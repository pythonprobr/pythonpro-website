{% extends "core/base.html" %}

{% block body %}
  <div class="container mt-5 mb-5">
    <div class="row">
      <div class="col-6">
        {% block content %}
          {% if validlink %}
            <h1 class="mb-4">Recuperar Senha</h1>
            <form method="post">
              {% csrf_token %}
              <div class="form-group">
                <label for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label_tag }}</label>
                {% if  form.new_password2.errors %}
                  <input class="form-control is-invalid"
                {% else %}
                  <input class="form-control"
                {% endif %}
                         type="password" name="{{ form.new_password1.html_name }}"
                         value="{{ field.value }}"
                         autofocus="" maxlength="{{ form.new_password1.max_length }}" required="required"
                         id="{{ form.new_password1.id_for_label }}">
                <div class="invalid-feedback">{{ form.new_password2.errors }}</div>
              </div>
              <div class="form-group">
                <label for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label_tag }}</label>
                <input class="form-control"
                       type="password" name="{{ form.new_password2.html_name }}"
                       value="{{ field.value }}"
                       autofocus="" maxlength="{{ form.new_password2.max_length }}" required="required"
                       id="{{ form.new_password2.id_for_label }}">
                <div class="invalid-feedback">{{ form.new_password2.errors }}</div>
              </div>
              <button type="submit" class="btn btn-primary">Alterar Senha</button>
            </form>
          {% else %}
            <h1 class="mb-4 mt-4">Recuperação de senha sem sucesso</h1>
            <p class="text-danger">O link para a recuperação de senha era inválido, possivelmente porque já foi
              utilizado.</p>
            <p><a href="{% url 'password_reset' %}" class="btn btn-primary">Solicitar Recuperação de Senha Novamente</a>
            </p>
          {% endif %}
        {% endblock %}


      </div>
    </div>
  </div>

{% endblock body %}